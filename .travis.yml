
dist: xenial

sudo: required

before_install:
  - sudo add-apt-repository ppa:jonathonf/vim -y
  - sudo add-apt-repository ppa:neovim-ppa/stable -y
  - sudo apt-get update
  - sudo apt-get install -y xvfb vim-gtk3 neovim

before_script:
  - export DISPLAY=':99.0'
  - Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &
  - vim --version

script:
  - tests/run-tests.sh

notifications:
  email:
    on_success: change
    on_failure: always
